GraphQL
=======================

Библиотека для работы с GaphQL запросами. Позволяет удобно составлять 
структуру запросов, рефракторить ее, или собирать постепенно в
зависимости от условий. Данная библиотека будет улучшаться,
данная версия работает с массивами. В дальнейшем, планируется доработать,
ее для работы с объектами.

На данном этапе нет стабильной версии, учитывайте это, при установке с композера.

Примеры работы
-----------------------

### Конструктор класса принимает три параметра:

`$base` - указатель базы запроса, с нее обычно начинается запрос GraphQL,

```graphql
{USER(/*filters*/) {/*select*/}}
```

Где User - это и есть указатель `$base`, а `filter` и `select` - это 
соответственно параметры для фильтрации и выборки.

`$filter` - это массив фильтров, где ключом является сама строка выборки,
а значением - его значение. Проще на примере:

```php
$filter = [
	'lang' => 'ru',
	'foo' => 'bar',
	'limit' => 10
];
```

Такой пример сформирует такой запрос:

```graphql
{Users(lang: "ru", foo: "bar", limit: 10){/*select*/}}
```
Обратите внимание, что если вы передаете число, система не оборачивает его в кавычки.
Это зависит от вашей **GraphQL** базы. Иногда нужно передавать и булевы 
значения и числа, а php их может преобразовывать. Данная библиотека этого
не делает. Какого типа данные будут переданы, такого типа данные и сформируются 
в запросе. Будьте внимательны. Если нужно передать число как строку, то передавайте его строкой,
т.е. завернутой в кавычки при передачи значения ключа массива

`$select` - это массив выборок. Сразу к примеру:

```php
$select = [
	'name',
	'age',
	'documents' =>
		[
			'passport',
			'snils',
			'other',
			'photo(preset: "55x55")'
		]
];
```

Данный пример сформирует такую строку запроса:

```graphql
{/*Base*/(/*filter*/){name age documents{passport snils other photo(preset: "55x55")}}}
```

Пример:
----------------------

```php
$query = 'Users';

$filter = [
	'lang' => 'ru',
	'foo' => 'bar',
	'limit' => 10
];

$select = [
	'name',
	'age',
	'documents' =>
		[
			'passport',
			'snils',
			'other',
			'photo(preset: "55x55")'
		]
];

$graphQL = new GraphQL($query, $filter, $select);


echo($graphQL); //Выведет сформированный запрос

//Если нужно вернуть запрос, есть метод:
$query = $graphQL->getQuery();

```

`echo` выведет: 

```graphql
{Users(lang: "ru", foo: "bar", limit: 10){name age documents{passport snils other photo(preset: "55x55")}}}
```


Дальнейшие версии будут иметь описание на английском языке, и возможно по другому работать.


